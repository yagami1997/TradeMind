# TradeMind Lite 发布说明

## Beta 0.3.2 (2025-03-16)

### 发布日期
2025-03-19 18:36:48 PDT

### 概述

TradeMind Lite Beta 0.3.2是一个重要的功能优化更新，主要聚焦于自选股编辑器的重构、自选股导入功能的增强和用户体验改进。此版本解决了一个严重的系统问题，优化了股票代码验证逻辑，增强了对指数和ETF的支持，并改进了用户界面交互体验，提高了系统整体稳定性。

### 新特性与改进

1. **自选股编辑器重构**
   - 重新设计数据结构，分离数据和顺序信息
   - 实现OrderManager类统一管理顺序
   - 优化状态管理机制
   - 改进拖拽排序功能
   - 添加数据完整性验证
   - 实现顺序自动修复机制
   - 优化错误处理流程
   - 改进用户界面反馈
   - 修复股票顺序自动重排问题
   - 提升分析结果准确性

2. **自选股导入功能优化**
   - 实现Web界面导入功能，支持文本输入、文件上传、剪贴板粘贴
   - 添加股票代码验证API，连接Yahoo Finance接口验证有效性
   - 开发指数代码转换功能，自动将常见指数格式转换为Yahoo Finance格式
   - 实现基于股票代码模式匹配的智能行业分类系统
   - 优化用户配置管理，实现三层配置设计：全局配置、用户特定配置、临时输入
   - 提供清空现有列表选项，默认勾选并添加确认对话框
   - 实现股票去重功能，避免重复导入

3. **自选股编辑器批量操作功能增强**
   - 优化批量操作菜单位置，使其智能跟随用户选择的股票位置
   - 添加股票选择视觉反馈和动画效果，提升用户体验
   - 实现批量操作菜单的滚动跟随功能，确保在任何滚动位置都能看到操作菜单
   - 优化批量操作菜单样式，增加固定显示和突出效果
   - 添加选中股票的视觉高亮和动画效果，提供更直观的操作反馈
   - 实现批量操作菜单的响应式设计，适应不同屏幕尺寸

4. **用户界面交互体验提升**
   - 修复验证按钮状态管理问题，确保在有效输入时才能点击
   - 解决文件上传后验证按钮不可用的问题
   - 修复自动分类和分组名称输入框的联动逻辑
   - 优化进度条显示，使其更准确反映验证进度
   - 修复导入确认后下拉菜单不刷新的问题
   - 修改默认分类名称，将"股票"改为更明确的"无分类自选股"
   - 优化错误提示，使其更友好和具体

5. **系统稳定性提升**
   - 解决导入过程中可能出现的"session未定义"错误
   - 优化配置文件读写逻辑，确保数据一致性
   - 增强错误处理和异常捕获机制
   - 更新所有相关文件中的版本号，确保一致性
   - 修复JavaScript对象属性排序导致的数据不一致问题
   - 改进数据结构设计，确保顺序信息的可靠性
   - 优化状态管理，提高系统稳定性

### 安装与升级

1. 安装最新版本: `pip install trademind==0.3.2`
2. 从源码安装: `git clone https://github.com/yagami1997/trademind.git && cd trademind && pip install -e .`

### 已知问题

- Yahoo Finance API限制可能影响验证功能，正在实现请求缓存和备用数据源
- 大量股票分析时存在性能瓶颈，计划优化数据加载和处理逻辑

### 技术警示

1. **JavaScript特性警示**：
   - `Object.keys()`会自动对键进行字母排序
   - 对象属性的顺序不可靠
   - 建议使用专门的数据结构存储顺序信息

2. **最佳实践建议**：
   - 不要依赖JavaScript的隐含行为
   - 关键数据要有专门的存储机制
   - 实现数据完整性验证
   - 保持良好的错误处理

### 致谢

感谢所有提供反馈和建议的用户，您的支持是我们不断改进的动力。特别感谢报告编辑器排序问题的用户，帮助我们发现并解决了这个重要问题。

---
*发布于: 2025-03-19 18:36:48 PDT* 

---

## Beta 0.3.1 (2025-03-15)

### 发布日期
2025-03-15 21:58:33 PDT

### 概述
TradeMind Lite Beta 0.3.1是一个优化更新，主要聚焦于Web界面主题设计优化和用户体验提升。此版本改进了视觉效果，增强了系统稳定性，并添加了虚拟服务器中断容错功能，修复了多个已知问题。

### 新特性
- **Web界面主题优化**: 优化三个主题的色彩搭配，提升视觉体验
  - 翠影流金：典雅的绿色与金色搭配，彰显稳重与专业
  - 紫岚烟渚：暮山紫(#615F74)和葭灰(#D3D4D3)搭配，呈现优雅沉稳的视觉效果（替换原曦潮映空主题）
  - 蓝沁云霁：清新的蓝色与白色组合，给人轻盈通透之感
  - 在Web界面右上角点击主题图标即可一键切换不同风格
- **服务器断电容错功能**: 添加服务器意外断电的数据恢复和保护机制
  - 实现数据自动备份，确保意外断电后数据不丢失
  - 添加会话恢复功能，断电后重启可继续之前的分析工作
  - 实现定期检查点保存，最大限度减少数据丢失风险

### 改进
- **标题样式统一**: 统一"分析股票"和"分析结果"标题样式，优化"最近生成的报告"标题显示
- **卡片样式优化**: 改进股票卡片和报告卡片的样式，提高可读性和美观度
- **按钮样式优化**: 统一按钮样式和颜色，优化交互效果
- **响应式设计优化**: 改进不同屏幕尺寸下的显示效果，提升移动设备体验
- **浏览器关闭优化**: 改进浏览器关闭事件检测，自动停止服务器并返回主菜单

### 修复的问题
- **报告生成器KeyError**: 修复报告生成器中的KeyError: 'explanation'问题
- **K线形态指标显示**: 修复命令行模式下K线形态指标不显示的问题
- **Sortino比率显示异常**: 修复Sortino比率显示异常的问题，使用对数缩放处理异常大的值
- **Web界面删除报告功能**: 修复Web界面的删除所有报告功能
- **浏览器关闭事件检测**: 修复浏览器关闭事件检测不可靠的问题
- **命令处理阻塞**: 修复命令处理阻塞问题

### 已知问题
- 暂无已知问题

### 升级指南
1. 安装最新版本: `pip install trademind==0.3.1`
2. 重启应用程序以应用新的主题和界面优化

### 文档
- [用户指南](docs/user_guide.md)
- [API文档](docs/api_docs.md)
- [用户界面文档](docs/ui_guide.md)

### 贡献者
- Yagami

### 致谢
感谢所有参与测试和提供反馈的用户。

---
*发布于: 2025-03-15 21:58:33 PDT*

---

## Beta 0.3.0 (2025-03-14)

### 发布日期
2025-03-14 21:58:33 PDT

### 概述
TradeMind Lite Beta 0.3.0是一个重大更新，完成了从单一StockAnalyzer类到模块化架构的重构。这次重构提高了代码的可维护性、可测试性和可扩展性，同时保持功能与结果不变。此版本还引入了全新的图形用户界面，使用户能够更直观地进行股票分析、回测和报告生成。

### 新特性
- **模块化架构**: 将单一StockAnalyzer类拆分为多个专注于特定功能的模块
- **清晰的API**: 每个模块提供清晰的API，便于使用和扩展
- **完整的文档**: 提供详细的用户指南、API文档、迁移指南和示例代码
- **兼容层**: 提供兼容层，确保旧代码仍然可以正常工作
- **图形用户界面**: 使用Streamlit开发的直观、美观的图形界面
- **响应式布局**: 界面能够自适应不同屏幕尺寸
- **主题切换**: 支持明亮/暗黑模式切换

### 改进
- **性能优化**: 处理大量数据时性能提升约5-10%
- **内存优化**: 内存使用减少约8%
- **代码质量**: 提高代码的可维护性、可测试性和可扩展性
- **测试覆盖**: 测试覆盖率达到92%
- **错误处理**: 改进错误处理机制，提供更清晰的错误信息
- **用户体验**: 提供直观的图形界面，简化操作流程

### 架构变更
- **技术指标模块**: 包含MACD、KDJ、RSI、布林带等技术指标的计算函数
- **形态识别模块**: 包含各种蜡烛图形态的识别函数
- **信号生成模块**: 负责生成买入/卖出信号
- **回测系统模块**: 负责回测和性能评估
- **报告生成模块**: 负责生成HTML分析报告
- **主类重构**: 重构TradeMind主类，使其调用新的模块化组件
- **兼容层**: 实现兼容层，确保旧代码仍然可以正常工作
- **用户界面**: 使用Streamlit开发图形用户界面

### 用户界面功能
- **股票搜索和选择**: 支持股票代码输入、自动补全和历史记录
- **技术分析参数配置**: 提供所有技术指标的参数配置界面
- **回测策略设置**: 支持多种回测策略和参数配置
- **结果可视化展示**: 使用Plotly实现交互式图表展示
- **报告生成和导出**: 支持HTML和PDF格式的报告导出
- **主题切换**: 支持明亮/暗黑模式切换

### 修复的问题
- **回测系统参数不一致**: 修复回测系统参数传递机制，确保一致性
- **报告格式不匹配**: 修复HTML报告格式，确保与原系统一致
- **兼容层类型错误**: 修复兼容层中的类型转换错误
- **用户界面响应性能**: 优化数据处理逻辑，提高界面响应速度

### 已知问题
- 暂无已知问题

### 升级指南
1. 安装最新版本: `pip install trademind==0.3.0`
2. 查阅迁移指南: [迁移指南](docs/migration_guide.md)
3. 更新导入语句: 
   ```python
   # 旧版本
   from stock_analyzer import StockAnalyzer
   
   # 新版本
   from trademind import TradeMind
   # 或者使用兼容层
   from trademind.compat import StockAnalyzer
   ```
4. 启动图形界面: `python -m trademind.app`
5. 更新API调用: 查阅API文档了解详细信息

### 文档
- [用户指南](docs/user_guide.md)
- [API文档](docs/api_docs.md)
- [迁移指南](docs/migration_guide.md)
- [用户界面文档](docs/ui_guide.md)
- [示例代码](examples/)

### 贡献者
- Yagami

### 致谢
感谢所有参与测试和提供反馈的用户。

---
*发布于: 2025-03-14 21:58:33 PDT* 